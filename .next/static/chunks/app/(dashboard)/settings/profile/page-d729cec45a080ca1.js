(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{3810:function(e,t,r){Promise.resolve().then(r.bind(r,9842))},9842:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),s=r(2265),n=r(9376);let l=(0,r(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=r(2489);function i(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(!0),[i,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(""),[h,m]=(0,s.useState)({name:"",email:"",phone:"",country:""});(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e)try{let t=await fetch("/api/user/profile",{headers:{Authorization:"Bearer ".concat(e)}}),r=await t.json();t.ok&&m({name:r.name||"",email:r.email||"",phone:r.phone||"",country:r.country||""})}catch(e){console.error(e)}finally{r(!1)}})()},[]);let x=async()=>{c(!0);let e=localStorage.getItem("token");try{(await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:h.name,phone:h.phone,country:h.country})})).ok?(d("Success! updating..."),setTimeout(()=>window.location.reload(),1e3)):d("Failed to update.")}catch(e){d("Error saving profile.")}finally{c(!1)}};return t?(0,a.jsx)("div",{className:"text-white p-10",children:"Loading..."}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto text-white space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-sm font-medium",children:[(0,a.jsx)(l,{size:18})," Back to Dashboard"]}),(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",title:"Close Settings",children:(0,a.jsx)(o.Z,{size:20})})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Profile Settings"}),u&&(0,a.jsx)("div",{className:"p-4 rounded-xl ".concat(u.includes("Success")?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:u}),(0,a.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 p-8 rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-blue-600 flex items-center justify-center text-2xl font-bold",children:h.name?h.name.charAt(0).toUpperCase():"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:h.name||"User"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:h.email})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:h.name,onChange:e=>m({...h,name:e.target.value}),className:"w-full bg-[#0b1220] border border-white/10 p-3 rounded-xl focus:border-blue-500 outline-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Email (Read Only)"}),(0,a.jsx)("input",{type:"text",value:h.email,disabled:!0,className:"w-full bg-[#0b1220]/50 border border-white/5 p-3 rounded-xl text-gray-500 cursor-not-allowed"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Phone"}),(0,a.jsx)("input",{type:"text",value:h.phone,onChange:e=>m({...h,phone:e.target.value}),className:"w-full bg-[#0b1220] border border-white/10 p-3 rounded-xl focus:border-blue-500 outline-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Country"}),(0,a.jsx)("input",{type:"text",value:h.country,onChange:e=>m({...h,country:e.target.value}),className:"w-full bg-[#0b1220] border border-white/10 p-3 rounded-xl focus:border-blue-500 outline-none"})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-white/10 flex justify-end",children:(0,a.jsx)("button",{onClick:x,disabled:i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-8 rounded-xl transition-all",children:i?"Saving...":"Save Changes"})})]})]})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:l?24*Number(n)/Number(s):n,className:o("lucide",u),...!d&&!i(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...c}=r;return(0,a.createElement)(u,{ref:n,iconNode:t,className:o("lucide-".concat(s(l(e))),"lucide-".concat(e),i),...c})});return r.displayName=l(e),r}},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3810)}),_N_E=e.O()}]);