(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{8908:function(e,t,a){Promise.resolve().then(a.bind(a,5505))},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1804:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},5505:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),s=a(2265),l=a(9205);let n=(0,l.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=a(1804),i=a(1817);let c=(0,l.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=a(9064),u=a(9376);function h(){(0,u.useRouter)();let[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(0),[h,x]=(0,s.useState)(""),[m,b]=(0,s.useState)(""),[f,p]=(0,s.useState)("ERC20");(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e)try{let t=await fetch("/api/user/dashboard",{headers:{Authorization:"Bearer ".concat(e)}}),a=await t.json();a.balances&&l(a.balances.available)}catch(e){console.error(e)}})()},[]);let y=async e=>{e.preventDefault();let s=Number(h);if(!h||s<=0){d.Am.error("Please enter a valid amount");return}if(s>a){d.Am.error("Insufficient funds in account",{icon:(0,r.jsx)(n,{className:"text-red-500"}),style:{background:"#1a1f2e",color:"#ff4b4b",border:"1px solid rgba(255, 75, 75, 0.2)"}});return}if(!m){d.Am.error("Please enter a wallet address");return}t(!0);let l=localStorage.getItem("token");try{let e=await fetch("/api/transaction/withdraw",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({amount:s,address:m,network:f,asset:"USDT"})}),t=await e.json();e.ok?(d.Am.success("Withdrawal request submitted!"),x(""),b(""),setTimeout(()=>window.location.reload(),1500)):d.Am.error(t.error||"Withdrawal failed")}catch(e){d.Am.error("Something went wrong")}finally{t(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6 text-white",children:[(0,r.jsx)(d.x7,{position:"top-center",toastOptions:{style:{background:"#1a1f2e",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"}}}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Withdraw Funds"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Transfer crypto to your external wallet."})]}),(0,r.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 rounded-2xl p-8 shadow-xl",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-8 p-4 bg-blue-600/10 border border-blue-600/20 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,r.jsx)(o.Z,{size:20,className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-blue-200",children:"Available Balance"}),(0,r.jsxs)("p",{className:"text-xl font-bold font-mono",children:["$",a.toLocaleString()]})]})]})}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Amount (USD)"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),(0,r.jsx)("input",{type:"number",value:h,onChange:e=>x(e.target.value),placeholder:"0.00",className:"w-full bg-[#0b1220] border border-white/10 rounded-xl py-4 pl-8 pr-4 text-white text-lg focus:border-blue-500 outline-none transition-all"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Network"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["ERC20","TRC20","BEP20"].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>p(e),className:"py-3 rounded-xl text-sm font-medium transition-all border ".concat(f===e?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-[#0b1220] border-white/10 text-gray-400 hover:border-white/30"),children:e},e))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Wallet Address"}),(0,r.jsx)("input",{type:"text",value:m,onChange:e=>b(e.target.value),placeholder:"Paste your wallet address here",className:"w-full bg-[#0b1220] border border-white/10 rounded-xl py-4 px-4 text-white focus:border-blue-500 outline-none transition-all font-mono text-sm"})]}),(0,r.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl mt-4 flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,r.jsx)(i.Z,{className:"animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Withdraw Now ",(0,r.jsx)(c,{size:20})]})})]})]})]})}}},function(e){e.O(0,[765,971,117,744],function(){return e(e.s=8908)}),_N_E=e.O()}]);