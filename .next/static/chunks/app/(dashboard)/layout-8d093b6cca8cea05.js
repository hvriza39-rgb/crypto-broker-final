(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{528:function(e,t,r){Promise.resolve().then(r.bind(r,5657))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:h,...x}=e;return(0,a.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:i?24*Number(s)/Number(n):s,className:l("lucide",d),...!u&&!o(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:o,...c}=r;return(0,a.createElement)(d,{ref:s,iconNode:t,className:l("lucide-".concat(n(i(e))),"lucide-".concat(e),o),...c})});return r.displayName=i(e),r}},5466:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7692:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},8728:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4286:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},525:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1804:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(2972),n=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5657:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(7437),n=r(7648),s=r(9376),i=r(2265),l=r(5466),o=r(1804),c=r(9205);let d=(0,c.Z)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);var u=r(525);let h=(0,c.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var x=r(8728),f=r(4286);let m=(0,c.Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var b=r(7692),p=r(2489);let g=[{href:"/dashboard",label:"Dashboard",icon:l.Z},{href:"/deposit",label:"Deposit",icon:o.Z},{href:"/withdrawal",label:"Withdrawal",icon:d},{href:"/trade",label:"Trade",icon:u.Z},{href:"/settings/profile",label:"Profile Settings",icon:h},{href:"/settings/account",label:"Account Settings",icon:x.Z},{href:"/settings/security",label:"Security",icon:f.Z}];function w(){let e=(0,s.usePathname)();(0,s.useRouter)();let[t,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>r(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>c(!1),[e]);let d=()=>{document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC; SameSite=Lax",localStorage.removeItem("token"),window.location.href="/login"};return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("button",{onClick:()=>c(!o),className:"fixed top-4 left-4 z-50 p-2.5 rounded-lg bg-[#0b1220] border border-white/10 text-white shadow-xl hover:bg-white/5",children:o?(0,a.jsx)(p.Z,{size:20}):(0,a.jsx)(m,{size:20})}),t&&o&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm",onClick:()=>c(!1)}),(0,a.jsx)("aside",{className:"\n          fixed inset-y-0 left-0 z-50 bg-[#0b1220] border-r border-white/10 flex flex-col transition-all duration-300 ease-in-out shadow-2xl\n          ".concat(t?o?"translate-x-0 w-72":"-translate-x-full w-72":n?"w-72":"w-20","\n        "),children:(0,a.jsx)(r=>{let{isCollapsed:s}=r;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"h-20 flex items-center border-b border-white/10 flex-shrink-0 ".concat(s?"justify-center":"justify-between px-6"),children:[!s&&(0,a.jsxs)("span",{className:"font-bold text-2xl text-white tracking-wide",children:["Broker",(0,a.jsx)("span",{className:"text-blue-500",children:"X"})]}),!t&&(0,a.jsx)("button",{onClick:()=>l(!n),className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,a.jsx)(m,{size:20})})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2 ".concat("scrollbar-hide overflow-y-auto"),children:g.map(t=>(0,a.jsx)(v,{item:t,pathname:e,collapsed:s},t.href))}),(0,a.jsx)("div",{className:"p-4 border-t border-white/10 mt-auto bg-[#0b1220] flex-shrink-0",children:(0,a.jsxs)("button",{onClick:d,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all group ".concat(s&&"justify-center"),title:"Log Out",children:[(0,a.jsx)(b.Z,{size:22}),!s&&(0,a.jsx)("span",{className:"text-sm font-medium",children:"Log Out"})]})})]})},{isCollapsed:!t&&!n})}),(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        .scrollbar-hide::-webkit-scrollbar { display: none; }\n        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }\n      "}})]})}function v(e){let{item:t,pathname:r,collapsed:s}=e,i=t.icon,l=r===t.href||r.startsWith(t.href+"/");return(0,a.jsxs)(n.default,{href:t.href,className:"flex items-center gap-3 px-3 py-3 rounded-xl transition-all group ".concat(l?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-gray-400 hover:text-white hover:bg-white/5"," ").concat(s?"justify-center":""),title:s?t.label:void 0,children:[(0,a.jsx)(i,{size:20,className:l?"text-white":"group-hover:text-white"}),!s&&(0,a.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:t.label})]})}let y=(0,c.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function j(){let[e,t]=(0,i.useState)(0),[r,s]=(0,i.useState)("Loading..."),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!0),[h,x]=(0,i.useState)("");return(0,i.useEffect)(()=>{x(new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}));let e=async()=>{let e=localStorage.getItem("token");if(e)try{var r,a;let n=await fetch("/api/user/dashboard",{headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"}),i=await n.json();(null===(r=i.user)||void 0===r?void 0:r.name)?(s(i.user.name),c(i.user.name.charAt(0).toUpperCase())):(s("User"),c("U")),(null===(a=i.balances)||void 0===a?void 0:a.available)!==void 0&&t(i.balances.available)}catch(e){console.error("Topbar error:",e),s("User")}finally{u(!1)}};e();let r=setInterval(e,1e4);return()=>clearInterval(r)},[]),(0,a.jsxs)("header",{className:"h-20 bg-[#0b1220]/80 backdrop-blur-md border-b border-white/10 flex items-center justify-between px-6 md:px-8 sticky top-0 z-30",children:[(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)("h2",{className:"text-gray-400 text-sm font-medium",children:h})}),(0,a.jsxs)("div",{className:"flex items-center gap-6 ml-auto",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-3 bg-blue-900/20 border border-blue-500/20 px-4 py-2 rounded-xl",children:[(0,a.jsx)("div",{className:"p-1.5 bg-blue-500/20 rounded-lg text-blue-400",children:(0,a.jsx)(o.Z,{size:18})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[10px] text-blue-300 uppercase font-bold tracking-wider leading-none mb-0.5",children:"Available Balance"}),(0,a.jsxs)("span",{className:"text-white font-mono font-bold text-base leading-none",children:["$",e.toLocaleString()]})]})]}),(0,a.jsxs)(n.default,{href:"/settings/profile",className:"flex items-center gap-3 pl-2 cursor-pointer group outline-none",children:[(0,a.jsxs)("div",{className:"text-right hidden md:block",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-white group-hover:text-blue-400 transition-colors",children:d?"...":r}),(0,a.jsx)("div",{className:"text-xs text-green-400 font-medium flex items-center justify-end gap-1",children:"Verified Account"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white/10 group-hover:ring-blue-500/50 transition-all",children:d?(0,a.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"}):l||"U"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-[#0b1220] rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-[#0b1220]"})})]}),(0,a.jsx)(y,{size:16,className:"text-gray-500 group-hover:text-white transition-colors hidden sm:block"})]})]})]})}function k(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0b1220] text-white",children:[(0,a.jsx)(w,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen md:pl-20 transition-all duration-300",children:[(0,a.jsx)(j,{}),(0,a.jsx)("main",{className:"flex-1 p-6 md:p-8 overflow-y-auto",children:t})]})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=528)}),_N_E=e.O()}]);