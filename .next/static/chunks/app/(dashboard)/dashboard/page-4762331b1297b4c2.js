(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{984:function(e,t,s){Promise.resolve().then(s.bind(s,7811))},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:h,iconNode:x,...m}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:n?24*Number(l)/Number(r):l,className:i("lucide",d),...!h&&!c(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(h)?h:[h]])}),h=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:c,...o}=s;return(0,a.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(r(n(e))),"lucide-".concat(e),c),...o})});return s.displayName=n(e),s}},525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1804:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(2972),r=s.n(a)},7811:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(2265),l=s(7648),n=s(9205);let i=(0,n.Z)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),c=(0,n.Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var o=s(525),d=s(1804);let h=(0,n.Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function x(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,cardano,ripple&vs_currencies=usd&include_24hr_change=true"),s=await e.json(),a=[{name:"Bitcoin",symbol:"BTC",...s.bitcoin},{name:"Ethereum",symbol:"ETH",...s.ethereum},{name:"Solana",symbol:"SOL",...s.solana},{name:"Ripple",symbol:"XRP",...s.ripple},{name:"Cardano",symbol:"ADA",...s.cardano}];t(a)}catch(e){console.error("Failed to fetch prices",e)}finally{l(!1)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]),s)?(0,a.jsx)("div",{className:"text-gray-500 text-sm p-4",children:"Loading market data..."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-gray-400 border-b border-white/10 text-xs uppercase",children:[(0,a.jsx)("th",{className:"pb-3 pl-2",children:"Asset"}),(0,a.jsx)("th",{className:"pb-3",children:"Price"}),(0,a.jsx)("th",{className:"pb-3 text-right pr-2",children:"24h Change"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map(e=>{let t=e.usd_24h_change>=0;return(0,a.jsxs)("tr",{className:"hover:bg-white/5 transition-colors text-sm",children:[(0,a.jsxs)("td",{className:"py-3 pl-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600/20 flex items-center justify-center text-blue-400 font-bold text-xs",children:e.symbol[0]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-white",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.symbol})]})]}),(0,a.jsxs)("td",{className:"py-3 font-mono text-white",children:["$",e.usd.toLocaleString()]}),(0,a.jsx)("td",{className:"py-3 text-right pr-2 font-medium ".concat(t?"text-green-400":"text-red-400"),children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[t?(0,a.jsx)(o.Z,{size:14}):(0,a.jsx)(h,{size:14}),e.usd_24h_change.toFixed(2),"%"]})})]},e.symbol)})})]})})}function m(){let[e,t]=(0,r.useState)({name:"User",balance:0,profit:0,profitPercent:"0"}),[s,n]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("token");if(e)try{let l=await fetch("/api/user/dashboard",{headers:{Authorization:"Bearer ".concat(e)},cache:"no-store"});if(401===l.status)return;let i=await l.json();if(i.user){var s,a,r;t({name:i.user.name,balance:(null===(s=i.balances)||void 0===s?void 0:s.available)||0,profit:(null===(a=i.balances)||void 0===a?void 0:a.profit)||0,profitPercent:(null===(r=i.balances)||void 0===r?void 0:r.profitPercent)||"0"})}i.transactions&&n(i.transactions)}catch(e){console.error(e)}finally{m(!1)}};e();let s=setInterval(e,1e4);return()=>clearInterval(s)},[]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 p-6 rounded-2xl shadow-xl text-white relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Balance"}),(0,a.jsxs)("h2",{className:"text-3xl font-bold font-mono",children:["$",e.balance.toLocaleString()]}),(0,a.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,a.jsxs)(l.default,{href:"/deposit",className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,a.jsx)(i,{size:16})," Deposit"]}),(0,a.jsxs)(l.default,{href:"/withdrawal",className:"bg-black/20 hover:bg-black/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,a.jsx)(c,{size:16})," Withdraw"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 p-6 rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-green-500/10 rounded-lg text-green-500",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Profit"})]}),(0,a.jsxs)("h2",{className:"text-2xl font-bold font-mono ".concat(e.profit>0?"text-green-400":"text-white"),children:["$",e.profit.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-green-400 mt-1 flex items-center gap-1",children:["+",e.profitPercent,"% ",(0,a.jsx)("span",{className:"text-gray-500",children:"growth"})]})]}),(0,a.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 p-6 rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-500",children:(0,a.jsx)(d.Z,{size:20})}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Active Assets"})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white font-mono",children:"0"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Assets currently in your portfolio"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 p-6 rounded-2xl shadow-xl h-full",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Market Watch"}),(0,a.jsx)(x,{})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-[#1a1f2e] border border-white/10 p-6 rounded-2xl shadow-xl",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Recent Transactions"}),h?(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Loading history..."}):0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-gray-500 space-y-3",children:[(0,a.jsx)(d.Z,{size:48,className:"opacity-20"}),(0,a.jsx)("p",{children:"No transactions found."}),(0,a.jsx)(l.default,{href:"/deposit",className:"text-blue-400 text-sm hover:underline",children:"Make your first deposit"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-gray-400 border-b border-white/10 text-xs uppercase",children:[(0,a.jsx)("th",{className:"pb-3 pl-2",children:"Type"}),(0,a.jsx)("th",{className:"pb-3",children:"Asset"}),(0,a.jsx)("th",{className:"pb-3",children:"Amount"}),(0,a.jsx)("th",{className:"pb-3",children:"Status"}),(0,a.jsx)("th",{className:"pb-3",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:s.map((e,t)=>{var s;return(0,a.jsxs)("tr",{className:"hover:bg-white/5 transition-colors text-sm",children:[(0,a.jsx)("td",{className:"py-3 pl-2 capitalize text-white",children:e.type}),(0,a.jsx)("td",{className:"py-3 text-gray-300",children:e.asset||"USD"}),(0,a.jsxs)("td",{className:"py-3 font-mono font-medium text-white",children:["$",null===(s=e.amount)||void 0===s?void 0:s.toLocaleString()]}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase ".concat("Completed"===e.status?"bg-green-500/10 text-green-400":"Pending"===e.status?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"),children:e.status})}),(0,a.jsx)("td",{className:"py-3 text-gray-500 text-xs",children:e.date?new Date(e.date).toLocaleDateString():"-"})]},t)})})]})})]})]})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=984)}),_N_E=e.O()}]);