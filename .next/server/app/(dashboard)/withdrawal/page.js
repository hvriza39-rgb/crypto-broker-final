(()=>{var e={};e.id=1672,e.ids=[1672],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2053:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>b,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>i}),a(1922),a(8032),a(1506),a(6560);var r=a(3191),s=a(8716),l=a(7922),o=a.n(l),d=a(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);a.d(t,n);let i=["",{children:["(dashboard)",{children:["withdrawal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1922)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\(dashboard)\\withdrawal\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8032)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\(dashboard)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,6560)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\not-found.tsx"]}],c=["C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\(dashboard)\\withdrawal\\page.tsx"],u="/(dashboard)/withdrawal/page",b={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/withdrawal/page",pathname:"/withdrawal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},9206:(e,t,a)=>{Promise.resolve().then(a.bind(a,6314))},6314:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(326),s=a(7577);let l=(0,a(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=a(6671),d=a(7506),n=a(4230),i=a(381),c=a(5047);function u(){(0,c.useRouter)();let[e,t]=(0,s.useState)(!1),[a,u]=(0,s.useState)(0),[b,h]=(0,s.useState)(""),[x,p]=(0,s.useState)(""),[m,w]=(0,s.useState)("ERC20"),y=async e=>{e.preventDefault();let s=Number(b);if(!b||s<=0){i.Am.error("Please enter a valid amount");return}if(s>a){i.Am.error("Insufficient funds in account",{icon:r.jsx(l,{className:"text-red-500"}),style:{background:"#1a1f2e",color:"#ff4b4b",border:"1px solid rgba(255, 75, 75, 0.2)"}});return}if(!x){i.Am.error("Please enter a wallet address");return}t(!0);let o=localStorage.getItem("token");try{let e=await fetch("/api/transaction/withdraw",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:s,address:x,network:m,asset:"USDT"})}),t=await e.json();e.ok?(i.Am.success("Withdrawal request submitted!"),h(""),p(""),setTimeout(()=>window.location.reload(),1500)):i.Am.error(t.error||"Withdrawal failed")}catch(e){i.Am.error("Something went wrong")}finally{t(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6 text-white",children:[r.jsx(i.x7,{position:"top-center",toastOptions:{style:{background:"#1a1f2e",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"}}}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Withdraw Funds"}),r.jsx("p",{className:"text-gray-400",children:"Transfer crypto to your external wallet."})]}),(0,r.jsxs)("div",{className:"bg-[#1a1f2e] border border-white/10 rounded-2xl p-8 shadow-xl",children:[r.jsx("div",{className:"flex justify-between items-center mb-8 p-4 bg-blue-600/10 border border-blue-600/20 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:r.jsx(o.Z,{size:20,className:"text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-blue-200",children:"Available Balance"}),(0,r.jsxs)("p",{className:"text-xl font-bold font-mono",children:["$",a.toLocaleString()]})]})]})}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Amount (USD)"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:b,onChange:e=>h(e.target.value),placeholder:"0.00",className:"w-full bg-[#0b1220] border border-white/10 rounded-xl py-4 pl-8 pr-4 text-white text-lg focus:border-blue-500 outline-none transition-all"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Network"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["ERC20","TRC20","BEP20"].map(e=>r.jsx("button",{type:"button",onClick:()=>w(e),className:`py-3 rounded-xl text-sm font-medium transition-all border ${m===e?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-[#0b1220] border-white/10 text-gray-400 hover:border-white/30"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Wallet Address"}),r.jsx("input",{type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Paste your wallet address here",className:"w-full bg-[#0b1220] border border-white/10 rounded-xl py-4 px-4 text-white focus:border-blue-500 outline-none transition-all font-mono text-sm"})]}),r.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl mt-4 flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:e?r.jsx(d.Z,{className:"animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Withdraw Now ",r.jsx(n.Z,{size:20})]})})]})]})]})}},4230:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\user\Documents\web-upload\crypto-broker-dashboard-with-admin-connected-backend\app\(dashboard)\withdrawal\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,6779,8296,345],()=>a(2053));module.exports=r})();