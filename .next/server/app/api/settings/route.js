"use strict";(()=>{var e={};e.id=6668,e.ids=[6668],e.modules={8013:e=>{e.exports=require("mongodb")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3756:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>b,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{GET:()=>u,POST:()=>p,dynamic:()=>c});var n=s(9303),o=s(8716),a=s(3131),i=s(7070),d=s(9487);let c="force-dynamic";async function u(){try{let e=await (0,d.z)(),t=await e.collection("settings").findOne({_id:"global_settings"});return i.NextResponse.json({btcAddress:t?.btcAddress||"",evmAddress:t?.evmAddress||""})}catch(e){return i.NextResponse.json({error:"Failed to fetch settings"},{status:500})}}async function p(e){try{let{btcAddress:t,evmAddress:s}=await e.json(),r=await (0,d.z)();return await r.collection("settings").updateOne({_id:"global_settings"},{$set:{btcAddress:t,evmAddress:s,updatedAt:new Date}},{upsert:!0}),i.NextResponse.json({success:!0})}catch(e){return i.NextResponse.json({error:"Failed to save settings"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/settings/route",pathname:"/api/settings",filename:"route",bundlePath:"app/api/settings/route"},resolvedPagePath:"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\api\\settings\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:v}=l,b="/api/settings/route";function h(){return(0,a.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},9487:(e,t,s)=>{let r;s.d(t,{z:()=>a});var n=s(8013);process.env.MONGODB_URI||(process.env.MONGODB_URI="mongodb://localhost:27017/broker-dashboard");let o=process.env.MONGODB_URI;async function a(){return(await r).db()}r=new n.MongoClient(o,{}).connect()}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,5972],()=>s(3756));module.exports=r})();