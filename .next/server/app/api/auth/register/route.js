"use strict";(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={8013:e=>{e.exports=require("mongodb")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4770:e=>{e.exports=require("crypto")},5021:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{POST:()=>c});var o=t(9303),n=t(8716),a=t(3131),i=t(7070),u=t(9487),p=t(8691);async function c(e){try{let{name:r,email:t,password:s,phone:o,country:n}=await e.json();if(!t||!s||!r)return i.NextResponse.json({error:"Missing required fields"},{status:400});let a=await (0,u.z)();if(await a.collection("users").findOne({email:t}))return i.NextResponse.json({error:"User already exists"},{status:400});let c=await p.ZP.hash(s,12);return await a.collection("users").insertOne({name:r,email:t,password:c,phone:o||"",country:n||"",balance:0,verified:!1,role:"user",createdAt:new Date}),i.NextResponse.json({success:!0})}catch(e){return console.error("Signup Error:",e),i.NextResponse.json({error:"Server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:g}=d,x="/api/auth/register/route";function v(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}},9487:(e,r,t)=>{let s;t.d(r,{z:()=>a});var o=t(8013);process.env.MONGODB_URI||(process.env.MONGODB_URI="mongodb://localhost:27017/broker-dashboard");let n=process.env.MONGODB_URI;async function a(){return(await s).db()}s=new o.MongoClient(n,{}).connect()}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5972,8691],()=>t(5021));module.exports=s})();