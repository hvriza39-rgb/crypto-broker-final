(()=>{var e={};e.id=5920,e.ids=[5920],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8612:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),t(5359),t(9457),t(6666),t(2029),t(2523);var s=t(3191),a=t(8716),n=t(7922),o=t.n(n),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5359)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\admin\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\admin\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,6666)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\admin\\error.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\user\\Documents\\web-upload\\crypto-broker-dashboard-with-admin-connected-backend\\src\\app\\admin\\login\\page.tsx"],u="/admin/login/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9967:(e,r,t)=>{Promise.resolve().then(t.bind(t,8907))},2881:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var s=t(7577);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),o=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),d=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:c,...u},m)=>(0,s.createElement)("svg",{ref:m,...l,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:i("lucide",n),...!o&&!d(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(o)?o:[o]])),u=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...n},d)=>(0,s.createElement)(c,{ref:d,iconNode:r,className:i(`lucide-${a(o(e))}`,`lucide-${e}`,t),...n}));return t.displayName=o(e),t}},434:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(9404),a=t.n(s)},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},8907:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(5047),n=t(7577),o=t(9837),i=t(5329),d=t(9175),l=t(4037);function c(){(0,a.useRouter)(),(0,a.useSearchParams)().get("redirect");let[e,r]=(0,n.useState)(""),[t,c]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null);async function b(r){r.preventDefault(),m(!0),h(null);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=await r.json().catch(()=>({}));if(!r.ok)throw Error(s?.error||"Login failed");if(!s.token)throw Error("Server error: No token received.");document.cookie=`token=${s.token}; path=/; max-age=86400; SameSite=Lax`,localStorage.setItem("token",s.token);let a=s.user?.role==="admin"?"/admin/users":"/dashboard";window.location.href=a}catch(e){h(e?.message||"Login failed")}finally{m(!1)}}return s.jsx("div",{className:"w-full max-w-md",children:s.jsx(i.Z,{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:b,className:"space-y-4",autoComplete:"off",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Admin Login"}),s.jsx("p",{className:"text-sm text-muted mt-1",children:"Sign in to manage users and transactions."})]}),p&&s.jsx(l.Z,{variant:"error",children:p}),s.jsx(d.Z,{label:"Email",value:e,onChange:e=>r(e.target.value),autoComplete:"email"}),s.jsx(d.Z,{label:"Password",type:"password",value:t,onChange:e=>c(e.target.value),autoComplete:"current-password"}),s.jsx(o.Z,{type:"submit",className:"w-full",loading:u,disabled:u,children:u?"Signing in...":"Sign in"})]})})})}function u(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg p-4",children:s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"text-white",children:"Loading login..."}),children:s.jsx(c,{})})})}},9837:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(326),a=t(1135);function n({className:e,variant:r="primary",loading:t,disabled:n,children:o,...i}){return s.jsx("button",{disabled:t||n,className:(0,a.Z)("inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0b1220]","primary"===r&&"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20 focus:ring-blue-500","secondary"===r&&"bg-white/5 hover:bg-white/10 text-white border border-white/10 focus:ring-gray-500","danger"===r&&"bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20 focus:ring-red-500","ghost"===r&&"bg-transparent hover:bg-white/5 text-gray-400 hover:text-white",(t||n)&&"opacity-50 cursor-not-allowed",e),...i,children:t?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):o})}},5329:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(326);t(7577);var a=t(1135);let n=({children:e,className:r})=>s.jsx("div",{className:(0,a.Z)("bg-surface border border-border rounded-xl shadow-card p-6","transition hover:shadow-lg",r),children:e})},4037:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(326);function a({variant:e="info",children:r}){return s.jsx("div",{className:`px-4 py-3 rounded-lg border text-sm ${{success:"bg-green-500/10 text-green-400 border-green-500/20",error:"bg-red-500/10 text-red-400 border-red-500/20",warning:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",info:"bg-blue-500/10 text-blue-400 border-blue-500/20"}[e]}`,children:r})}},9175:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(326);function a({label:e,className:r="",...t}){return(0,s.jsxs)("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-gray-400 ml-1",children:e}),s.jsx("input",{className:`w-full bg-[#0b1220] border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-blue-500 transition-colors ${r}`,...t})]})}},5359:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`C:\Users\user\Documents\web-upload\crypto-broker-dashboard-with-admin-connected-backend\src\app\admin\login\page.tsx#default`)},1135:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=function(){for(var e,r,t=0,s="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var n=r.length;for(t=0;t<n;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=r);return s}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,6779,8282],()=>t(8612));module.exports=s})();